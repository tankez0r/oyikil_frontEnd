(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3053:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/administracion/nuevopost",function(){return n(406)}])},4476:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(5893),a=n(4051),o=n.n(a);function i(t,e,n,r,a,o,i){try{var s=t[o](i),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,a)}var s=function(t,e){var n=window.confirm("Borrar post?"),r=function(t){setTimeout((function(){e.push(t)}),400)},a=n?fetch("https://api.cooperativaoyikil.com.ar/posteos/"+t,{method:"DELETE",mode:"cors",credentials:"include"}).then((function(t){if(!t.ok)throw new Error(t.status)})):null,s=function(){var t,e=(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a;case 3:a?(window.alert("Se ha eliminado el post"),r("/administracion")):window.alert("eliminaci\xf3n canceleada"),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),window.alert("algo salio mal"),r("/administracion");case 10:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){i(o,r,a,s,l,"next",t)}function l(t){i(o,r,a,s,l,"throw",t)}s(void 0)}))});return function(){return e.apply(this,arguments)}}();s()},l=function(t){var e=t.type,n=t.buttonClass,a=t.postId,o=t.router;return"submit"===e?(0,r.jsx)("button",{type:"submit",className:n,children:"Env\xedar"}):"reset"===e?(0,r.jsx)("button",{type:"reset",className:n,children:"Resetear Form"}):(0,r.jsx)("button",{type:"button",onClick:function(){s(a,o)},className:n,children:"Borrar"})}},2965:function(t,e,n){"use strict";var r=n(5893),a=n(2175);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.Z=function(t){var e=t.inputType,n=t.name,o=t.placeholder,s=t.label,l=t.labelStyle,c=t.fieldStyle,u=t.as,d=t.accepts,p=i((0,a.U$)(n),3),f=(p[0],p[1],p[2].setValue);return(0,r.jsxs)("div",{className:"grid grid-cols-12 my-5",children:[(0,r.jsx)("label",{className:l,htmlFor:n,children:s}),"file"===e?(0,r.jsx)("input",{onChange:function(t){f(t.currentTarget.files[0])},className:c,name:n,as:u,type:e,placeholder:o,accept:d}):(0,r.jsx)(a.gN,{className:c+" text-black",name:n,as:u,type:e,placeholder:o,accepts:d||"*"}),(0,r.jsx)(a.Bc,{name:n,render:function(t){return(0,r.jsxs)("span",{className:"text-sm text-red-600 drop-shadow-sm shadow-white",children:[" ",t," "]})}})]})}},5821:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var r=n(5893),a=n(2175),o=n(4476),i=n(2965),s=n(4051),l=n.n(s),c=n(2918);function u(t){var e=new FormData;for(var n in t)e.append(n,t[n]);return e}function d(t,e,n,r,a,o,i){try{var s=t[o](i),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,a)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){d(o,r,a,i,s,"next",t)}function s(t){d(o,r,a,i,s,"throw",t)}i(void 0)}))}}var f=function(){var t=p(l().mark((function t(e,n,r){var a,o,i,s,d,f,m;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(t){setTimeout((function(){r.push(t)}),400)},o=u(e),i=e.ID,s={method:"POST",body:o,mode:"cors",credentials:"include"},d={method:"PUT",body:o,mode:"cors",credentials:"include"},t.next=7,n;case 7:if(t.t0=t.sent,"put"!==t.t0){t.next=12;break}t.t1=fetch("https://api.cooperativaoyikil.com.ar/posteos/"+i,d).then((function(t){if(!t.ok)throw new c.default(t.status)})),t.next=13;break;case 12:t.t1=fetch("https://api.cooperativaoyikil.com.ar/posteos/",s).then((function(t){if(!t.ok)throw new c.default(t.status)}));case 13:f=t.t1,m=function(){var t=p(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f;case 3:"post"===n?window.alert("Se ha creado un nuevo post"):window.alert("El post se ha editado correctamente"),a("/administracion"),t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),window.alert("algo salio mal"),a("/administracion"),t.abrupt("return");case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),m();case 16:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),m=n(1163),h=function(t){var e=t.initialProps,n=t.editionMode,s=(0,m.useRouter)(),l="col-start-2 col-span-7",c="border-opacity-40 border border-black shadow-md col-start-2 ",u=e||{titulo:"",subtitulo:"",imagen:void 0,pie_imagen:"",contenido:""},d="bg-yellow-400 mb-7  rounded-lg shadow-md shadow-yellow-800 transition-all active:translate-y-1 ",p="bg-green-700 mb-7  rounded-lg shadow-lg shadow-green-900 text-white transition-all active:translate-y-1 ",h="bg-red-600 mb-7 text-white rounded-lg shadow-md shadow-red-800 transition-all active:translate-y-1 ";return(0,r.jsx)("section",{children:(0,r.jsx)(a.J9,{initialValues:u,onSubmit:function(t){f(t,n?"put":"post",s)},children:function(t){return(0,r.jsxs)(a.l0,{children:[(0,r.jsx)(i.Z,{as:"input",name:"titulo",label:"Ingresar T\xedtulo",fieldStyle:c+"col-span-8",labelStyle:l}),(0,r.jsx)(i.Z,{as:"input",name:"subtitulo",label:"Ingresar subtitulo",fieldStyle:c+"col-span-6",labelStyle:l}),(0,r.jsx)(i.Z,{as:"input",accepts:"image/*",inputType:"file",name:"imagen",label:"Ingresar imagen",fieldStyle:c+"col-span-9",labelStyle:l}),(0,r.jsx)(i.Z,{as:"input",name:"pie_imagen",label:"Ingresar pie de imagen",fieldStyle:c+"col-span-8",labelStyle:l}),(0,r.jsx)(i.Z,{as:"textarea",name:"contenido",label:"Ingresar contenido de post",fieldStyle:c+"h-[200px] col-span-10",labelStyle:l}),(0,r.jsx)("div",{className:"grid grid-cols-12",children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{type:"submit",buttonClass:d+"col-span-3 col-start-2"}),"  ",(0,r.jsx)(o.Z,{buttonClass:p+"col-span-4 col-start-8",type:"reset"})," ",(0,r.jsx)(o.Z,{router:s,postId:t.values.ID,buttonClass:h+"col-span-4 col-start-5",type:"delete"})]}):(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(o.Z,{buttonClass:d+"col-span-4 col-start-2",type:"submit"})," ",(0,r.jsx)(o.Z,{buttonClass:p+"col-span-4 col-start-8",type:"reset"})]})})]})}})})}},406:function(t,e,n){"use strict";n.r(e);var r=n(5893),a=n(5821);e.default=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"my-5",children:"Formulario para nuevos posteos"}),(0,r.jsx)(a.Z,{editionMode:!1})]})}},2918:function(t,e,n){t.exports=n(67)}},function(t){t.O(0,[374,774,888,179],(function(){return e=3053,t(t.s=e);var e}));var e=t.O();_N_E=e}]);