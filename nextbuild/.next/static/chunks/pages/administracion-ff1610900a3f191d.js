(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{9912:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/administracion",function(){return n(165)}])},8188:function(e,t,n){"use strict";var r=n(5893),a=n(4689),i=n(5675),o=n.n(i),s=n(9008),c=n.n(s);t.Z=function(){return(0,r.jsxs)("div",{className:"min-h-[75vh] grid grid-cols-12 relative",children:[(0,r.jsxs)(c(),{children:[(0,r.jsx)("title",{children:"Cargando..."}),(0,r.jsx)("meta",{name:"description",content:"Cooperativa Oyikil, R\xedo Turbio"}),(0,r.jsx)("link",{rel:"icon",href:"/imagenes/favicon.png"})]}),(0,r.jsx)("div",{className:"absolute top-10 left-0 md:top-[10%] md:left-[40%] ",children:(0,r.jsx)(o(),{className:"animate-spin-slow",src:"/imagenes/oyikil_navbar.png",alt:"",width:300,height:300,layout:"fixed"})}),(0,r.jsx)("div",{className:"absolute top-[80%] left-[5%] md:left-[35%] text-5xl select-none",children:(0,r.jsx)(a.Z,{loop:1/0,wrapper:"p",steps:["Cargando...",400,"Loading...",400,"\u0141adowanie...",400,"Caricamento in corso...",400,"Y\xfckleniyor..",400]})})]})}},4476:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5893),a=n(4051),i=n.n(a);function o(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}var s=function(e,t){var n=window.confirm("Borrar post?"),r=function(e){setTimeout((function(){t.push(e)}),400)},a=n?fetch("https://api.cooperativaoyikil.com.ar/posteos/"+e,{method:"DELETE",mode:"cors",credentials:"include"}).then((function(e){if(!e.ok)throw new Error(e.status)})):null,s=function(){var e,t=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a;case 3:a?(window.alert("Se ha eliminado el post"),r("/administracion")):window.alert("eliminaci\xf3n canceleada"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),window.alert("algo salio mal"),r("/administracion");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,c,"next",e)}function c(e){o(i,r,a,s,c,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();s()},c=function(e){var t=e.type,n=e.buttonClass,a=e.postId,i=e.router;return"submit"===t?(0,r.jsx)("button",{type:"submit",className:n,children:"Env\xedar"}):"reset"===t?(0,r.jsx)("button",{type:"reset",className:n,children:"Resetear Form"}):(0,r.jsx)("button",{type:"button",onClick:function(){s(a,i)},className:n,children:"Borrar"})}},2965:function(e,t,n){"use strict";var r=n(5893),a=n(2175);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(e){var t=e.inputType,n=e.name,i=e.placeholder,s=e.label,c=e.labelStyle,l=e.fieldStyle,u=e.as,d=e.accepts,p=o((0,a.U$)(n),3),f=(p[0],p[1],p[2].setValue);return(0,r.jsxs)("div",{className:"grid grid-cols-12 my-5",children:[(0,r.jsx)("label",{className:c,htmlFor:n,children:s}),"file"===t?(0,r.jsx)("input",{onChange:function(e){f(e.currentTarget.files[0])},className:l,name:n,as:u,type:t,placeholder:i,accept:d}):(0,r.jsx)(a.gN,{className:l+" text-black",name:n,as:u,type:t,placeholder:i,accepts:d||"*"}),(0,r.jsx)(a.Bc,{name:n,render:function(e){return(0,r.jsxs)("span",{className:"text-sm text-red-600 drop-shadow-sm shadow-white",children:[" ",e," "]})}})]})}},7957:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fetch.apply(void 0,a(t)).then((function(e){return e.json()}))}n.d(t,{_:function(){return i}})},165:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(5893),a=n(8100),i=n(7957),o=n(2175),s=n(4476),c=n(2965),l=n(4051),u=n.n(l);function d(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){d(i,r,a,o,s,"next",e)}function s(e){d(i,r,a,o,s,"throw",e)}o(void 0)}))}}var f=function(){var e=p(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},mode:"cors",credentials:"include"},e.next=3,fetch("https://api.cooperativaoyikil.com.ar/login",n).then((function(e){return e.json()}));case 3:e.sent,e.prev=4,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(4),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[4,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=p(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",mode:"cors",credentials:"include"},e.next=3,fetch("https://api.cooperativaoyikil.com.ar/logout",t).then((function(e){return e.json()}));case 3:e.sent,e.prev=4,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(4),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[4,8]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e="col-start-2 col-span-7",t="border-opacity-40 border border-black shadow-md col-start-2 ";return(0,r.jsx)("section",{children:(0,r.jsx)(o.J9,{initialValues:{username:"",password:""},onSubmit:function(e){return f(e)},children:function(n){return(0,r.jsxs)(o.l0,{className:"min-h-screen",children:[(0,r.jsx)(c.Z,{as:"input",name:"username",label:"Ingresar usuario",fieldStyle:t+"col-span-8",labelStyle:e}),(0,r.jsx)(c.Z,{as:"input",inputType:"password",name:"password",label:"Ingresar password",fieldStyle:t+"col-span-6",labelStyle:e}),(0,r.jsx)("div",{className:"grid grid-cols-12",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{type:"submit",buttonClass:"bg-yellow-400 mb-7  rounded-lg shadow-md shadow-yellow-800 transition-all active:translate-y-1 col-span-3 col-start-2"})," "]})})]})}})})},v=n(5675),x=n.n(v),y=n(1163);function g(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}var w=function(){var e=(0,y.useRouter)(),t=function(t){setTimeout((function(){e.push(t)}),300)},n=function(){var e,n=(e=u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t("/");case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){g(i,r,a,o,s,"next",e)}function s(e){g(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)("section",{className:"",children:[(0,r.jsxs)("div",{className:"grid grid-cols-12",children:[(0,r.jsx)("h1",{className:"mt-4 text-3xl text-center font-bold col-span-12 justify-center",children:"Bienvenido al dashboard de administraci\xf3n"}),(0,r.jsx)("button",{onClick:n,className:"col-span-2 bg-red-600 col-start-6 mt-5 rounded-sm shadow-md transition-all active:translate-y-2 active:shadow-red-500",children:"LogOut"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"grid grid-cols-10 min-h-[60vh] md:mb-20 items-center grid-rows-2 md:grid-rows-1 font-semibold",children:[(0,r.jsx)("div",{onClick:function(){t("/administracion/nuevopost")},className:"col-start-2 md:col-span-4 col-span-8 justify-center row-start-1 place-self-center my-4 bg-green-800 p-4 rounded-sm shadow-green-900 shadow-md transition-all active:translate-y-1",children:(0,r.jsxs)("div",{className:"text-center text-white",children:[(0,r.jsx)("h3",{className:"text-center text-xl",children:"Agregar Nuevo Post"}),(0,r.jsx)(x(),{priority:!0,src:"/imagenes/agregar.png",alt:"Agregar nuevo post",height:150,width:150})]})}),(0,r.jsx)("div",{onClick:function(){t("/administracion/editarpost")},className:"col-start-2 md:col-start-6 md:col-span-4 col-span-8 justify-center md:row-start-1 row-start-2 place-self-center bg-green-800 p-4 px-10 rounded-sm shadow-green-900 shadow-md transition-all active:translate-y-1",children:(0,r.jsxs)("div",{className:"text-center text-white",children:[(0,r.jsx)("h3",{className:"text-center text-2xl",children:"Editar Post"}),(0,r.jsx)(x(),{priority:!0,src:"/imagenes/editar.png",alt:"Agregar nuevo post",height:150,width:150})]})})]})})]})},b=n(8188),j=n(9008),N=n.n(j),k=function(){var e=(0,a.ZP)("https://api.cooperativaoyikil.com.ar/login",(function(e){return(0,i._)(e,{credentials:"include"})}),{refreshInterval:1e3}),t=e.data;return e.error?(0,r.jsx)("div",{className:"min-h-screen mt-2",children:"Fallo al cargar, presionar f5 para recargar pagina"}):t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(N(),{children:[(0,r.jsx)("title",{children:"Administracion"}),(0,r.jsx)("meta",{name:"robots",content:"noindex"}),(0,r.jsx)("link",{rel:"icon",href:"/imagenes/favicon.png"})]}),t.logedin?(0,r.jsx)(w,{}):(0,r.jsx)(h,{})]}):(0,r.jsx)(b.Z,{})}}},function(e){e.O(0,[374,755,774,888,179],(function(){return t=9912,e(e.s=t);var t}));var t=e.O();_N_E=t}]);